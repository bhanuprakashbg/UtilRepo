properties = null  

def loadProperties() {
    node {
        checkout scm
        properties = new Properties()
		git credentialsId: 'ec178a16-6695-42b1-a7a4-e02d67886fd0', url: 'https://github.com/bhanuprakashbg/ConfigRepo.git'
        File propertiesFile = new File("devops.properties")
        properties.load(propertiesFile.newDataInputStream())
        echo "Immediate one ${properties.projectPath}"
		echo "Immediate one ${properties.maven}"
		echo "Immediate one ${properties.java}"
    }
}

node('master'){

   


def props = readProperties  file: 'https://github.com/bhanuprakashbg/ConfigRepo.git/devops.properties'
def projectPath = props['project'];
def java = props['java'];
def maven = props['maven'];

echo "projectPath=${projectPath}"
echo "java=${java}"
echo "maven=${maven}"

stage('git checkout') {
 git 'https://github.com/bhanuprakashbg/BankWebApp'
}

stage('Build & Compile') {    
sh 'mvn clean install sonar:sonar'
}


}


